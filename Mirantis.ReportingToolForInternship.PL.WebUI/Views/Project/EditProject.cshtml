@model Mirantis.ReportingTool.PL.WebUI.Models.ProjectVM

@{
	ViewBag.Title = "Edit project";
	AjaxOptions ajaxOpts = new AjaxOptions
	{
		Url = Url.Action("EditProject"),
		HttpMethod = "post",
		OnSuccess = "redirect",
		OnBegin = "lockAllFunctions",
		OnComplete = "unlockAllFunctions",
		OnFailure = "unlockAllFunctions",
	};
}

<h2>Edit project</h2>

@using (Ajax.BeginForm("AddProject", null, ajaxOpts, new { @class = "form-horizontal" }))
{
	@Html.AntiForgeryToken()
	<hr />
	@Html.HiddenFor(model => model.Id)

	@Html.ValidationSummary(true, "", new { @class = "text-danger" })
	<div class="form-group">
		@Html.LabelFor(model => model.Name, htmlAttributes: new { @class = "control-label col-xs-2" })
		<div class="col-xs-10">
			@Html.EditorFor(model => model.Name, new { htmlAttributes = new { @class = "form-control", @data_toggle = "tooltip", @data_placement = "bottom", @value = Model.Name } })
			@Html.ValidationMessageFor(model => model.Name, "", new { @class = "text-danger" })
		</div>
	</div>

	<div class="form-group">
		@Html.LabelFor(model => model.Customer, htmlAttributes: new { @class = "control-label col-xs-2" })
		<div class="col-xs-10">
			@Html.EditorFor(model => model.Customer, new { htmlAttributes = new { @class = "form-control", @data_toggle = "tooltip", @data_placement = "bottom", @value = Model.Customer } })
			@Html.ValidationMessageFor(model => model.Customer, "", new { @class = "text-danger" })
		</div>
	</div>

	<div class="form-group">
		<div class="col-xs-10 col-md-offset-2">
			<input type="submit" value="Save" class="btn btn-default" id="SubmitButton" />
		</div>
	</div>
}

@section scripts {
	<script src="~/Scripts/bootstrap-datepicker.min.js"></script>
	<script src="~/Scripts/bootstrap-select.min.js"></script>
	<script src="~/Scripts/jquery.validate.js"></script>
	<script src="~/Scripts/jquery.validate.unobtrusive.js"></script>
	<script src="~/Scripts/jquery.unobtrusive-ajax.min.js"></script>

	<script src="~/Scripts/Custom/disableInputs.js"></script>
	<script src="~/Scripts/Custom/redirect.js"></script>
}